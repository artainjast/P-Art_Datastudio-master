function mod(a,b){return a-(b*Math.floor(a/b))}function leap_gregorian(a){return((a%4)==0)&&(!(((a%100)==0)&&((a%400)!=0)))}var GREGORIAN_EPOCH=1721425.5;function gregorian_to_jd(a,b,c){return(GREGORIAN_EPOCH-1)+(365*(a-1))+Math.floor((a-1)/4)+(-Math.floor((a-1)/100))+Math.floor((a-1)/400)+Math.floor((((367*b)-362)/12)+((b<=2)?0:(leap_gregorian(a)?-1:-2))+c)}function jd_to_gregorian(a){var b,depoch,quadricent,dqc,cent,dcent,quad,dquad,yindex,dyindex,year,yearday,leapadj;b=Math.floor(a-0.5)+0.5;depoch=b-GREGORIAN_EPOCH;quadricent=Math.floor(depoch/146097);dqc=mod(depoch,146097);cent=Math.floor(dqc/36524);dcent=mod(dqc,36524);quad=Math.floor(dcent/1461);dquad=mod(dcent,1461);yindex=Math.floor(dquad/365);year=(quadricent*400)+(cent*100)+(quad*4)+yindex;if(!((cent==4)||(yindex==4))){year++}yearday=b-gregorian_to_jd(year,1,1);leapadj=((b<gregorian_to_jd(year,3,1))?0:(leap_gregorian(year)?1:2));month=Math.floor((((yearday+leapadj)*12)+373)/367);day=(b-gregorian_to_jd(year,month,1))+1;return new Array(year,month,day)}function leap_islamic(a){return(((a*11)+14)%30)<11}var ISLAMIC_EPOCH=1948439.5;function islamic_to_jd(a,b,c){return(c+Math.ceil(29.5*(b-1))+(a-1)*354+Math.floor((3+(11*a))/30)+ISLAMIC_EPOCH)-1}function jd_to_islamic(a){var b,month,day;a=Math.floor(a)+0.5;b=Math.floor(((30*(a-ISLAMIC_EPOCH))+10646)/10631);month=Math.min(12,Math.ceil((a-(29+islamic_to_jd(b,1,1)))/29.5)+1);day=(a-islamic_to_jd(b,month,1))+1;return new Array(b,month,day)}function leap_persian(a){return((((((a-((a>0)?474:473))%2820)+474)+38)*682)%2816)<682}var PERSIAN_EPOCH=1948320.5;function persian_to_jd(a,b,c){var d,epyear;d=a-((a>=0)?474:473);epyear=474+mod(d,2820);return c+((b<=7)?((b-1)*31):(((b-1)*30)+6))+Math.floor(((epyear*682)-110)/2816)+(epyear-1)*365+Math.floor(d/2820)*1029983+(PERSIAN_EPOCH-1)}function jd_to_persian(a){var b,month,day,depoch,cycle,cyear,ycycle,aux1,aux2,yday;a=Math.floor(a)+0.5;depoch=a-persian_to_jd(475,1,1);cycle=Math.floor(depoch/1029983);cyear=mod(depoch,1029983);if(cyear==1029982){ycycle=2820}else{aux1=Math.floor(cyear/366);aux2=mod(cyear,366);ycycle=Math.floor(((2134*aux1)+(2816*aux2)+2815)/1028522)+aux1+1}b=ycycle+(2820*cycle)+474;if(b<=0){b--}yday=(a-persian_to_jd(b,1,1))+1;month=(yday<=186)?Math.ceil(yday/31):Math.ceil((yday-6)/30);day=(a-persian_to_jd(b,month,1))+1;return new Array(b,month,day)}